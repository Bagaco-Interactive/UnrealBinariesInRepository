name: Build and Publish Binaries
run-name: Building commit  ${{ github.sha }}
on:
    workflow_dispatch:
    push:
        paths:
            - '**.h'
            - '**.cpp'
            - '**.yaml'
jobs:
  EngineAssociation:
    uses: bagaco-interactive/unreal-github-actions/.github/workflows/get_project_engine_association.yaml@main
    with:
      project_name: BuildingBinaries1
  EnginePath:
    needs: EngineAssociation
    uses: bagaco-interactive/unreal-github-actions/.github/workflows/get_engine_path.yaml@main
    with:
      engine_version: ${{needs.EngineAssociation.outputs.engine_association}}
  OutputTest:
    runs-on: self-hosted
    needs: EnginePath
    steps:
      - run: echo ${{needs.EnginePath.outputs.path}}
  Build:
# make sure we have permision to write, else action will fail
    permissions: write-all
    needs: EnginePath
    uses: bagaco-interactive/unreal-github-actions/.github/workflows/build-binaries.yaml@main
    with:
      engine-path: ${{needs.EnginePath.outputs.path}}
      project-name: BuildingBinaries1
        
              
    